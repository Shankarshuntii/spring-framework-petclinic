node	{
    def app


    stage('Clone repository') {
        checkout scm
    }

        stage("Package jar file with Maven"){
          
                sh "mvn clean package -DskipTests=true"
            
        }
	
    stage('Build image with Docker') {
        dir('shankarshuntii/spring-framework-petclinic') {
            app = docker.build("dukaan:${env.BUILD_NUMBER}")
	    sh "docker ps"
        }
    }
}
